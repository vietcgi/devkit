# .ansible-lint configuration for devkit

# Skip rules that conflict with project requirements
skip_list:
  # Stylistic rules - handled by other tools
  - key-order
  - name[casing]
  - yaml

  # Project-specific exceptions for infrastructure bootstrap
  - command-instead-of-module  # Some commands are necessary for setup
  - command-instead-of-shell  # Shell complexity requires shell module
  - schema[meta]  # Meta validation too strict
  - latest  # Version pinning is intentional
  - risky-file-permissions  # Specific perms required for setup
  - risky-shell-pipe  # Pipes necessary for complex operations
  - no-changed-when  # Changed detection is task-specific
  - no-handler  # Handlers used appropriately

# Rules to exclude
exclude_paths:
  - .git
  - .direnv
  - htmlcov
  - .ansible
  - setup.yml  # Uses community.general modules not in pre-commit env
  - ansible/roles/git/  # Uses community.general.git_config

# Profiles: min, basic, moderate, safety, shared, production
profile: min
